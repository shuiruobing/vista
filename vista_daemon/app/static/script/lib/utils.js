define(function(require,exports,module){function e(){}require("AES"),require("crypto"),e.prototype={lengthw:function(e){return e.replace(/[^\x00-\xff]/g,"rr").length},isEmpty:function(e){var e=$.trim(e);return 0==e.length},isSpecChar:function(e){return/[%\u0027:\*\?<>\|\/\\\"]/.test(e)},isChinese:function(e){return/[^\x00-\xff]/.test(e)},isNumber:function(e){return this.isInt(e)||this.isFloat(e)},isInt:function(e){return/^\d+$/.test(e)},isFloat:function(e){return/^\d+\.\d+$/.test(e)},isEmail:function(e){return/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(e)},isURL:function(e){var t=/^(file|http|https|ftp|mms|telnet|news|wais|mailto):\/\/(.+)$/;return t.test(e)},isDomain:function(e){var t=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/;return t.test(e)},isHiDDNS:function(e){var t=/^([a-z]|[a-z][-a-z0-9]{0,62}[a-z0-9])$/;return t.test(e)},isIPAddress:function(e){return this.isIPv4Address(e)||this.isIPv6Address(e)?!0:!1},isIPv4Address:function(e){if(0==e.length)return!1;var t=/^(\d{1}|\d{2}|[0-1]\d{2}|2[0-4]\d|25[0-5])\.(\d{1}|\d{2}|[0-1]\d{2}|2[0-4]\d|25[0-5])\.(\d{1}|\d{2}|[0-1]\d{2}|2[0-4]\d|25[0-5])\.(\d{1}|\d{2}|[0-1]\d{2}|2[0-4]\d|25[0-5])$/;return t.test(e)},isIPv6Address:function(e){return/:/.test(e)&&8>e.match(/:/g).length&&/::/.test(e)?1==e.match(/::/g).length&&/^::$|^(::)?([\da-f]{1,4}(:|::))*[\da-f]{1,4}(:|::)?$/i.test(e):/^([\da-f]{1,4}:){7}[\da-f]{1,4}$/i.test(e)},isIpMask:function(e){var t=/^(254|252|248|240|224|192|128|0)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)$/;return t.test(e)},isMulticastAddress:function(e){var t=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;if(t.test(e)){if(0==RegExp.$1&&0==RegExp.$2&&0==RegExp.$3&&0==RegExp.$4)return!0;if(RegExp.$1>223&&240>RegExp.$1&&256>RegExp.$2&&256>RegExp.$3&&256>RegExp.$4)return!0}return!1},isCountry:function(e){return/[A-Z][A-Z]/.test(e)},isDIPAddress:function(e){var t=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/;return t.test(e)&&RegExp.$1>0&&224>RegExp.$1&&256>RegExp.$2&&256>RegExp.$3&&256>RegExp.$4?!0:!1},isNullObj:function(e){var t=0;for(var i in e){t++;break}return 0===t},encodeString:function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decodeString:function(e){var t=document.createElement("a");return t.innerHTML=e,t.textContent||t.innerText},createXml:function(){var e;try{e=$.browser.msie&&9===parseInt($.browser.version,10)?new ActiveXObject("Microsoft.XMLDOM"):document.implementation.createDocument("","",null)}catch(t){e=new ActiveXObject("Microsoft.XMLDOM")}return e.async="false",e},parseXmlFromStr:function(e){if(null===e||""===e)return null;e=e.replace(/&(?!lt;|amp;|gt;|apos;|quot;)/g,"&amp;");var t=null;try{if($.browser.msie&&9===parseInt($.browser.version,10)){var t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1,t.loadXML(e)}else{var i=new DOMParser;t=i.parseFromString(e,"text/xml")}}catch(a){var t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1,t.loadXML(e)}return t},xmlToStr:function(e){if(null==e)return"";var t="";try{var i=new XMLSerializer;t=i.serializeToString(e)}catch(a){try{t=e.xml}catch(a){return""}}return-1==t.indexOf("<?xml")&&(t="<?xml version='1.0' encoding='utf-8'?>"+t),t},nodeValue:function(e,t,i,a){var n=$(e).find(t).eq(0);if(void 0===a){var o=n.text();return"i"==i?parseInt(o,10)||0:"f"==i?parseFloat(o)||0:"b"==i?"true"==o?!0:!1:o}return n.text(a),this},nodeAttr:function(e,t,i,a){var n=$(e).find(t).eq(0).attr(i);return void 0===n?"":"i"==a?parseInt(n,10)||0:"f"==a?parseFloat(n)||0:"b"==a?"true"==n?!0:!1:n},dayAdd:function(e,t){var i=new Date(Date.parse(e.replace(/\-/g,"/"))),a=new Date(i.getTime()+1e3*60*60*24*t);return this.dateFormat(a,"yyyy-MM-dd hh:mm:ss")},dateFormat:function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t},utcDateFormat:function(e,t){var i={"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getUTCFullYear()+"").substr(4-RegExp.$1.length)));for(var a in i)RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t},getTimeZone:function(e){var t=e.getTimezoneOffset(),i=Math.abs(parseInt(t/60)),a=new Date,n=new Date(a.getTime());a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0),n.setMonth(6),n.setDate(1),n.setHours(0),n.setMinutes(0),n.setSeconds(0),0!=n.getTimezoneOffset()-a.getTimezoneOffset()&&t==n.getTimezoneOffset()&&(0>t?--i:++i);var o=t%60;0>o&&(o=-o);var r="";return 0===o?r="CST"+(t>=0?"+":"-")+i+":00:00":30===o?r="CST"+(t>=0?"+":"-")+i+":30:00":45===o&&(r="CST"+(t>=0?"+":"-")+i+":45:00"),r},convertToLocalTime:function(e,t){if(!seajs.iDeviceType)return e;e=e.replace("T"," ").replace("Z",""),t===void 0&&(t=0);var i="yyyy-MM-dd hh:mm:ss",a=e.split(" ")[0].split("-"),n=parseInt(a[0],10),o=parseInt(a[1],10)-1,r=parseInt(a[2],10),s=e.split(" ")[1].split(":"),l=parseInt(s[0],10),c=parseInt(s[1],10),u=parseInt(s[2],10),d=new Date(Date.UTC(n,o,r,l,c,u));return d.setTime(d.getTime()+t),this.dateFormat(d,i).replace(" ","T")+"Z"},convertToUTCTime:function(e,t){if(!seajs.iDeviceType)return e;t===void 0&&(t="yyyy-MM-dd hh:mm:ss"),e=e.replace("T"," ").replace("Z","");var i=new Date(Date.parse(e.replace(/-/g,"/")));return i=this.utcDateFormat(i,t),i=i.replace(" ","T")+"Z"},regexTest:function(e,t,i){var a=null;return a=angular.isUndefined(i)?RegExp(t):RegExp(t,i),a.test(e)},checkAddressingType:function(e,t){var i="hostName";return"v4"==t?1==this.isIPv4Address(e)&&(i="ipAddress"):"v6"==t?1==this.isIPv6Address(e)&&(i="ipv6Address"):1==this.isIPv4Address(e)?i="ipAddress":1==this.isIPv6Address(e)&&(i="ipv6Address"),i},getXmlNodeObject:function(e,t){if(!e||!t)return{};for(var i,a=t.length,n={},o=0;a>o;o++)i=$(e).find(t[o]).eq(0),0==i.children().length?(n[t[o]]=i.text(),!/^is|enable/i.test(t[o])||"true"!=n[t[o]]&&"false"!=n[t[o]]||(n[t[o]]="true"==n[t[o]])):n[t[o]]=i.get(0);return n},setXmlNodeObject:function(e,t){if(!e||!t)return{};for(var i in t)"string"==typeof t[i]||"number"==typeof t[i]?$(e).find(i).text(t[i]):"boolean"==typeof t[i]&&$(e).find(i).text(""+t[i])},validValue:function(e){return e===void 0?!1:null==e||""===e||isNaN(e)?!1:!0},getURIParam:function(e,t){-1!==t.indexOf("?")&&(t=t.split("?")[1]);var i=RegExp("(^|&)"+e+"=([^&]+\\[.*?\\]|[^&]*)(&|$)"),a=t.match(i);return null===a?"":a[2]},removeValidTip:function(){$(".inputValidTip").remove()},hideValidTip:function(){$(".inputValidTip").hide()},showErrorTip:function(e,t,i){var a=$(e).data("validTipDiv");if($(e).css("border","1px solid red"),angular.isUndefined(a)){var n=$(e).offset(),o=$(e).outerWidth();a=$("<div class='inputValidTip border table-error'><i class='error'></i><label class='error-txt'>"+t+"</label></div>"),a.css({position:"absolute",left:n.left+o-215+$("#view").parent().scrollLeft(),top:n.top-36+$("#view").parent().scrollTop()}),$("#view").append(a),$(e).data("validTipDiv",a)}else a.find(".error-txt").eq(0).text(t);i.bInputInValid=0===$(".table-error").length?!1:!0},hideErrorTip:function(e,t){var i=$(e).data("validTipDiv");angular.isDefined(i)&&i.remove(),t.bInputInValid=0===$(".table-error").length?!1:!0},uniqueArray:function(e,t){if("[object Array]"!==Object.prototype.toString.call(e))return[];if(0==e.length)return[];t=t?!0:!1;for(var i={},a=e.length,n=[],o=0;a>o;o++)i[e[o]]!==void 0?delete e[o]:i[e[o]]=null;for(o=0;a>o;o++)void 0==e[o]?t&&(n[o]=void 0):n.push(e[o]);return n},removeArrayItem:function(e,t){for(var i=-1,a=0,n=e.length;n>a;a++)if(t==e[a]){i=a;break}return-1!=i&&e.splice(i,1),e},parseNamePwd:function(e){var t={szName:"",szPass:""};if(""==e)return t;":"==e.charAt(0)&&(e=e.substring(1));var i=e.indexOf(":");return i>-1&&(t.szName=e.substring(0,i),t.szPass=e.substring(i+1)),t},checkNumber:function(e,t){var i=t;return this.isNumber(""+Object(e))&&(i=Number(e)),i},replaceAll:function(e,t,i){var a;a="object"!=typeof e?[e]:e;var n=RegExp(t,"g"),o=[];return $.each(a,function(){o.push(this.replace(n,i))}),e!==a?o[0]:o},getNewPoint:function(e,t){var i={iX:-1,iY:-1};return 2==arguments.length&&(i.iX=e,i.iY=t),i},pointPosTrans:function(e,t,i,a){var n=0;return isNaN(i)||(n=i),n=0==e?t?parseFloat(1-parseFloat(i/a)).toFixed(4):parseFloat(i/a).toFixed(4):t?parseInt((1-i)*a,10):parseInt(i*a,10)},polygonVaildCheck:function(e){var t=e.length;if(4>t)return!0;for(var i=2;t>i;++i)for(var a=0;i-2>=a;++a)if((i!=t-1||0!=a)&&this.checkLineIntersect(e[i],"object"==typeof e[i+1]?e[i+1]:e[0],e[a],e[a+1]))return!1;return!0},checkLineIntersect:function(e,t,i,a){var n=(a.iX-i.iX)*(e.iY-i.iY)-(a.iY-i.iY)*(e.iX-i.iX),o=(t.iX-e.iX)*(e.iY-i.iY)-(t.iY-e.iY)*(e.iX-i.iX),r=(a.iY-i.iY)*(t.iX-e.iX)-(a.iX-i.iX)*(t.iY-e.iY);if(0!=r){var s=n/r,l=o/r;return s>=0&&1>=s&&l>=0&&1>=l?!0:!1}return 0==n||0==o?!0:!1},getMaxDaysOnMoth:function(e){var t=new Date(this.getMillisecondsFromString(e)),i=t.getFullYear(),a=t.getMonth()+1,n=new Date(i,a,0).getDate();return n},getMillisecondsFromString:function(e){var t=e.replace("T"," ").replace("Z",""),i=0;t=this.replaceAll(t,"-","/");try{i=Date.parse(t)}catch(a){}return i},getDayInfoByType:function(e,t){var i=" 00:00:00",a=" 23:59:59",n="",o="",r="";return"daily"==e?(n=t.split("T")[0]+i,o=t.split("T")[0]+a):"weekly"==e?(r=this.getFirstAndLastDayOnWeek(this.getMillisecondsFromString(t)),n=r.split("T")[0]+i,o=r.split("T")[1]+a):"monthly"==e?(r=this.getFirstAndLastDayOnMonth(this.getMillisecondsFromString(t)),n=r.split("T")[0]+i,o=r.split("T")[1]+a):"yearly"==e&&(n=t.split("-")[0]+"-01-01"+i,o=t.split("-")[0]+"-12-31"+a),n+"||"+o},getFirstAndLastDayOnMonth:function(e){var t=new Date(e),i=t.getFullYear(),a=t.getMonth()+1;10>a&&(a="0"+a);var n=i+"-"+a+"-"+"01";t=new Date(i,a,0);var o=i+"-"+a+"-"+t.getDate();return n+"T"+o},getFirstAndLastDayOnWeek:function(e){var t=new Date(e),i="",a="",n="",o="",r="",s=0,l=0,c=0,u=t.getDay(),d=0;if(0==u)n=t.getFullYear(),o=t.getMonth()+1,10>o&&(o="0"+o),r=t.getDate(),10>r&&(r="0"+r),a=n+"-"+o+"-"+r;else{d=7-u,l=t.getTime(),s=l+864e5*d,t.setTime(s),n=t.getFullYear();var o=t.getMonth()+1;10>o&&(o="0"+o),r=t.getDate(),10>r&&(r="0"+r),a=n+"-"+o+"-"+r}return s=t.getTime(),c=s-5184e5,t.setTime(c),n=t.getFullYear(),o=t.getMonth()+1,10>o&&(o="0"+o),r=t.getDate(),10>r&&(r="0"+r),i=n+"-"+o+"-"+r,i+"T"+a},max:function(e){for(var t,i=-1/0,a=0,n=e.length;n>a;++a)t=parseFloat(e[a]),t>i&&(i=t);return i},cloneFunc:function(e){return function(){return e.apply(this,arguments)}},checkPasswordComplexity:function(e,t){var i=0;return e.match(/[a-z]/g)&&i++,e.match(/[A-Z]/g)&&(i+=i?2:1),e.match(/[0-9]/g)&&i++,e.match(/[^a-zA-Z0-9]/g)&&(i+=i?2:1),(8>e.length||e===t||e===t.split("").reverse().join(""))&&(i=0),i&&i--,i=i>3?3:i},compareDict:function(e,t){for(var i=0,a=0,n=e.length;n>a;++a){if(e[a]>t[a]){i=1;break}if(e[a]<t[a]){i=-1;break}}return i},getTimeOffset:function(e,t){var i=e.split(":"),a=t.split(":"),n=3600*parseInt(i[0],10)+60*parseInt(i[1],10)+parseInt(i[2],10),o=3600*parseInt(a[0],10)+60*parseInt(a[1],10)+parseInt(a[2],10);if(n>=o)return n-o;var r=86400;return r-o+n},getIPAddr:function(e){var t="";return $(e).find("ipAddress").length?t=$(e).find("ipAddress").text():$(e).find("ipv6Address").length?t=$(e).find("ipv6Address").text():$(e).find("hostName").length&&(t=$(e).find("hostName").text()),"0.0.0.0"===t&&(t=""),t},getIPAddrXml:function(e){var t=this,i=t.checkAddressingType(e),a="";return""===e?a="<ipAddress>0.0.0.0</ipAddress>":"hostName"===i?a="<hostName>"+e+"</hostName>":"ipAddress"===i?a="<ipAddress>"+e+"</ipAddress>":"ipv6Address"===i&&(a="<ipv6Address>"+e+"</ipv6Address>"),a},encodeAES:function(e,t,i){i===void 0&&(i="6cd9616beb39d4034fdebe107df9a399");var a=CryptoJS.enc.Hex.parse(t),n=CryptoJS.enc.Hex.parse(i),o=CryptoJS.AES.encrypt(e,a,{mode:CryptoJS.mode.CBC,iv:n,padding:CryptoJS.pad.Pkcs7}),r=""+o.ciphertext;return r},decodeAES:function(e,t,i){i===void 0&&(i="6cd9616beb39d4034fdebe107df9a399");var a=CryptoJS.enc.Hex.parse(t),n=CryptoJS.enc.Hex.parse(i),o=CryptoJS.enc.Hex.parse(e),r=CryptoJS.enc.Base64.stringify(o),s=CryptoJS.AES.decrypt(r,a,{mode:CryptoJS.mode.CBC,iv:n,padding:CryptoJS.pad.Pkcs7}),l=s.toString(CryptoJS.enc.Utf8);return l},toHex:function(e){for(var t="",i=0;e.length>i;i++)""===t?t=e.charCodeAt(i).toString(16):t+=16>e.charCodeAt(i)?"0"+e.charCodeAt(i).toString(16):e.charCodeAt(i).toString(16);return t}},module.exports=new e});