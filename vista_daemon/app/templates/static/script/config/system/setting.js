define(function(require,exports,module){function e(){}var t,i,n,a,o,r;t=require("jquery"),i=require("common"),n=require("translator"),a=require("utils"),o=require("isapi/device");var s=require("common/plugin");e.prototype={init:function(){var e=this;e.initController(),r=t("#tabs").tabs({load:function(t,i){var n=i.tab.attr("module");require.async("config/system/"+n,function(t){t&&t.init(e)})},beforeActivate:function(e,t){s.stop(),s.removePlugin(),t.oldPanel.empty(),a.removeValidTip()}})},initController:function(){angular.module("settingApp",[]).service("service",function(){var e=this;this.m_bSupportWorkMode=!1,this.isSupportWorkMode=function(){WebSDK.WSDK_GetDeviceConfig(i.m_szHostName,"workMode",null,{async:!1,success:function(){e.m_bSupportWorkMode=!0},error:function(){e.m_bSupportWorkMode=!1}})}}).controller("settingController",function($scope,service){service.isSupportWorkMode(),o.getVCAResource(),$scope.oLan=n.oLastLanguage,$scope.oTab={bSupport232Config:o.m_oDeviceCapa.bSupport232Config,bSupport485:o.m_oDeviceCapa.bSupport485,bSupportMenu:o.m_oDeviceCapa.bSupportMenu,bSupportWorkMode:service.m_bSupportWorkMode,bSupportTeleCtrl:o.m_oDeviceCapa.bSupportTeleCtrl,bSupportVCAResource:""!==o.m_oDeviceCapa.oVCAResourceType,bSupportDST:o.m_oDeviceCapa.bSupportDST,bSupportExternalDevice:o.m_oDeviceCapa.bSupportExternalDevice,bSupportTraffic:"TFS"==o.m_oDeviceCapa.oVCAResourceType||o.m_oDeviceCapa.oSupportTraffic.bSupport&&""==o.m_oDeviceCapa.oVCAResourceType,bSupportGIS:o.m_oDeviceCapa.bSupportGIS||o.m_oDeviceCapa.bSupportCompassAzimuth&&"IPC"==o.m_oDeviceCapa.szSupportCompassDevType,bSupportPanoramaImageParam:o.m_oDeviceCapa.bSupportPanoramaImageParam,bSupportPanoramaImageSensor:o.m_oDeviceCapa.bSupportPanoramaImageSensor}}),angular.bootstrap(angular.element("#setting"),["settingApp"])},unload:function(){a.removeValidTip()}},module.exports=new e});