define(function(require,exports,module){function e(){this.m_oLiveViewConnection={},s=!1}var t,i,a,n,o,r,s;t=require("jquery"),i=require("common"),a=require("translator"),n=require("utils"),o=require("isapi/device"),e.prototype={init:function(){var e=this;e.isSupportService(),e.initController(),r=t("#tabs").tabs({load:function(t,i){var a=i.tab.attr("module");require.async("config/system/"+a,function(t){t&&t.init(e)})},beforeActivate:function(e,t){var i=t.oldTab.attr("module");("maintainUpgrade"==i||"maintainLog"==i)&&t.oldPanel.empty(),n.removeValidTip()}})},initController:function(){angular.module("maintainApp",[]).controller("maintainController",function($scope){$scope.oLan=a.oLastLanguage,$scope.oTab={bSupportService:s,bSupportLog:o.m_oDeviceCapa.bSupportStorage}}),angular.bootstrap(angular.element("#maintain"),["maintainApp"])},isSupportService:function(){var e=this;WebSDK.WSDK_GetDeviceConfig(i.m_szHostName,"service",null,{async:!1,success:function(i,a){0==t(a).find("HardwareService").eq(0).children().length?(s=!1,e.isSupportSoftwareService()):(e.isSupportSoftwareService(),s=!0)},error:function(){s=!1,e.isSupportSoftwareService()}})},isSupportSoftwareService:function(){var e=this;WebSDK.WSDK_GetDeviceConfig(i.m_szHostName,"previewLinkNumCapa",null,{async:!1,success:function(i,a){s=!0,e.m_oLiveViewConnection.minConnect=parseInt(t(a).find("maxLinkNum").attr("min"),10),e.m_oLiveViewConnection.maxConnect=parseInt(t(a).find("maxLinkNum").attr("max"),10)},error:function(){s=!1}})}},module.exports=new e});