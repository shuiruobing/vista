define(function(require,exports,module){var jQuery=require("jquery");(function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return"string"===$.type(e)},runPluginCallbacks=function(Instance,a_fn){function g(e){return e}if($.isArray(a_fn))for(var i=0,c=a_fn.length;c>i;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.4.1",revision:1.0401,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),i=t.data("layout")||t.data("parentLayout");if(i){var n=i.container;if(n.data("layoutPane"))return n;var a=n.closest("."+$.layout.defaults.panes.paneClass);if(a.data("layoutPane"))return a}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return"object"==typeof e&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e),i=e;return t&&(t.stopPropagation(),i=$(this).data("layoutEdge")),i&&!/^(west|east|north|south|center)$/.test(i)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+i+'"'),i="error"),i},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),i={width:t.css("width")-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=i.width,window.scrollbarHeight=i.height,e.match(/^(width|height)$/)?i[e]:i},disableTextSelection:function(){var e=$(document),t="textSelectionDisabled",i="textSelectionInitialized";$.fn.disableSelection&&(e.data(i)||e.on("mouseup",$.layout.enableTextSelection).data(i,!0),e.data(t)||e.disableSelection().data(t,!0))},enableTextSelection:function(){var e=$(document),t="textSelectionDisabled";$.fn.enableSelection&&e.data(t)&&e.enableSelection().data(t,!1)},showInvisibly:function(e,t){if(e&&e.length&&(t||"none"===e.css("display"))){var i=e[0].style,n={display:i.display||"",visibility:i.visibility||""};return e.css({display:"block",visibility:"hidden"}),n}return{}},getElementDimensions:function(e,t){var i,n,a,o={css:{},inset:{}},r=o.css,s={bottom:0},l=$.layout.cssNum,c=Math.round,d=e.offset();return o.offsetLeft=d.left,o.offsetTop=d.top,t||(t={}),$.each("Left,Right,Top,Bottom".split(","),function(l,c){i=r["border"+c]=$.layout.borderWidth(e,c),n=r["padding"+c]=$.layout.cssNum(e,"padding"+c),a=c.toLowerCase(),o.inset[a]=t[a]>=0?t[a]:n,s[a]=o.inset[a]+i}),r.width=c(e.width()),r.height=c(e.height()),r.top=l(e,"top",!0),r.bottom=l(e,"bottom",!0),r.left=l(e,"left",!0),r.right=l(e,"right",!0),o.outerWidth=c(e.outerWidth()),o.outerHeight=c(e.outerHeight()),o.innerWidth=max(0,o.outerWidth-s.left-s.right),o.innerHeight=max(0,o.outerHeight-s.top-s.bottom),o.layoutWidth=c(e.innerWidth()),o.layoutHeight=c(e.innerHeight()),o},getElementStyles:function(e,t){var i,n,a,o,r,s,l={},c=e[0].style,d=t.split(","),u="Top,Bottom,Left,Right".split(","),p="Color,Style,Width".split(",");for(o=0;d.length>o;o++)if(i=d[o],i.match(/(border|padding|margin)$/))for(r=0;4>r;r++)if(n=u[r],"border"===i)for(s=0;3>s;s++)a=p[s],l[i+n+a]=c[i+n+a];else l[i+n]=c[i+n];else l[i]=c[i];return l},cssWidth:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,a=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Left")+n(e,"Right")),"content-box"===i&&(o-=a(e,"paddingLeft")+a(e,"paddingRight")),max(0,o)},cssHeight:function(e,t){if(0>=t)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,a=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Top")+n(e,"Bottom")),"content-box"===i&&(o-=a(e,"paddingTop")+a(e,"paddingBottom")),max(0,o)},cssNum:function(e,t,i){e.jquery||(e=$(e));var n=$.layout.showInvisibly(e),a=$.css(e[0],t,!0),o=i&&"auto"==a?a:Math.round(parseFloat(a)||0);return e.css(n),o},borderWidth:function(e,t){e.jquery&&(e=e[0]);var i="border"+t.substr(0,1).toUpperCase()+t.substr(1);return"none"===$.css(e,i+"Style",!0)?0:Math.round(parseFloat($.css(e,i+"Width",!0))||0)},isMouseOverElem:function(e,t){var i=$(t||this),n=i.offset(),a=n.top,o=n.left,r=o+i.outerWidth(),s=a+i.outerHeight(),l=e.pageX,c=e.pageY;return $.layout.browser.msie&&0>l&&0>c||l>=o&&r>=l&&c>=a&&s>=c},msg:function(e,t,i,n){function a(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");return t.css("left",$(window).width()-t.outerWidth()-5),$.ui.draggable&&t.draggable({handle:":first-child"}),t}if($.isPlainObject(e)&&window.debugData){"string"==typeof t?(n=i,i=t):"object"==typeof i&&(n=i,i=null);var o=i||"log( <object> )",r=$.extend({sort:!1,returnHTML:!1,display:!1},n);t===!0||r.display?debugData(e,o,r):window.console&&console.log(debugData(e,o,r))}else if(t)alert(e);else if(window.console)console.log(e);else{var s="#layoutLogger",l=$(s);l.length||(l=a()),l.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||0>u.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b,cm=document.compatMode,bm=!ie||!cm||"CSS1Compat"===cm||$.support.boxModel||!1;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:bm},b&&($.layout.browser[b]=!0),bm||cm||$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(e,t){var i,n,a,o,r,s,l,c=t?{panes:{},center:{}}:{};if("object"!=typeof e)return c;for(n in e)for(i=c,r=e[n],a=n.split("__"),l=a.length-1,s=0;l>=s;s++)o=a[s],s===l?i[o]=$.isPlainObject(r)?$.layout.transformData(r):r:(i[o]||(i[o]={}),i=i[o]);return c},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(e){function t(t,i){for(var n,a=t.split("."),o=a.length-1,r={branch:e,key:a[o]},s=0;o>s;s++)n=a[s],r.branch=void 0==r.branch[n]?i?r.branch[n]={}:{}:r.branch[n];return r}var i,n,a,o=$.layout.backwardCompatibility.map;for(var r in o)i=t(r),a=i.branch[i.key],void 0!==a&&(n=t(o[r],!0),n.branch[n.key]=a,delete i.branch[i.key])},renameAllOptions:function(e){var t=$.layout.backwardCompatibility.renameOptions;return t(e),e.defaults&&("object"!=typeof e.panes&&(e.panes={}),$.extend(!0,e.panes,e.defaults),delete e.defaults),e.panes&&t(e.panes),$.each($.layout.config.allPanes,function(i,n){e[n]&&t(e[n])}),e}},$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var t=e.keyCode;if(33>t)return!0;var i,n,a,o,r={38:"north",40:"south",37:"west",39:"east"},s=(e.altKey,e.shiftKey),l=e.ctrlKey,c=l&&t>=37&&40>=t;return c&&options[r[t]].enableCursorHotkey?o=r[t]:(l||s)&&$.each(_c.borderPanes,function(e,r){return i=options[r],n=i.customHotkey,a=i.customHotkeyModifier,(s&&"SHIFT"==a||l&&"CTRL"==a||l&&s)&&n&&t===(isNaN(n)||9>=n?n.toUpperCase().charCodeAt(0):n)?(o=r,!1):void 0}),o&&$Ps[o]&&options[o].closable&&!state[o].isHidden?(toggle(o),e.stopPropagation(),e.returnValue=!1,!1):!0}function allowOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),n=state[i];if(n.cssSaved&&resetOverflow(i),n.isSliding||n.isResizing||n.isClosed)return n.cssSaved=!1,void 0;var a={zIndex:options.zIndexes.resizer_normal+1},o={},r=t.css("overflow"),s=t.css("overflowX"),l=t.css("overflowY");"visible"!=r&&(o.overflow=r,a.overflow="visible"),s&&!s.match(/(visible|auto)/)&&(o.overflowX=s,a.overflowX="visible"),l&&!l.match(/(visible|auto)/)&&(o.overflowY=s,a.overflowY="visible"),n.cssSaved=o,t.css(a),$.each(_c.allPanes,function(e,t){t!=i&&resetOverflow(t)})}}}function resetOverflow(e){if(isInitialized()){this&&this.tagName&&(e=this);var t;if(isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){return $(this).data("layoutRole")?(t=$(this),!1):void 0}),t&&t.length){var i=t.data("layoutEdge"),n=state[i],a=n.cssSaved||{};n.isSliding||n.isResizing||t.css("zIndex",options.zIndexes.pane_normal),t.css(a),n.cssSaved=!1}}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,i){timer.clear(e),timer.data[e]=setTimeout(t,i)},clear:function(e){var t=timer.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},_log=function(e,t,i){var n=options;return(n.showErrorMessages&&!i||i&&n.showDebugMessages)&&$.layout.msg(n.name+" / "+e,t!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(e){return e}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P=hasPane?$Ps[pane]:0;if(hasPane&&!$P)return retVal;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||retVal===!1||(hasPane?(o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(e){if(!browser.mozilla){var t=$Ps[e];"IFRAME"===state[e].tagName?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(e,t){var i="horz"==_c[e].dir?cssH:cssW;return i($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],i=_c[e].dir,n={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};return"horz"===i&&(n.minSize=n.minHeight),"vert"===i&&(n.minSize=n.minWidth),n},setOuterWidth=function(e,t,i){var n,a=e;isStr(e)?a=$Ps[e]:e.jquery||(a=$(e)),n=cssW(a,t),a.css({width:n}),n>0?i&&a.data("autoHidden")&&a.innerHeight()>0&&(a.show().data("autoHidden",!1),browser.mozilla||a.css(_c.hidden).css(_c.visible)):i&&!a.data("autoHidden")&&a.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,i){var n,a=e;isStr(e)?a=$Ps[e]:e.jquery||(a=$(e)),n=cssH(a,t),a.css({height:n,visibility:"visible"}),n>0&&a.innerWidth()>0?i&&a.data("autoHidden")&&(a.show().data("autoHidden",!1),browser.mozilla||a.css(_c.hidden).css(_c.visible)):i&&!a.data("autoHidden")&&a.hide().data("autoHidden",!0)},_parseSize=function(e,t,i){if(i||(i=_c[e].dir),isStr(t)&&t.match(/%/)&&(t="100%"===t?-1:parseInt(t,10)/100),0===t)return 0;if(t>=1)return parseInt(t,10);var n=options,a=0;if("horz"==i?a=sC.innerHeight-($Ps.north?n.north.spacing_open:0)-($Ps.south?n.south.spacing_open:0):"vert"==i&&(a=sC.innerWidth-($Ps.west?n.west.spacing_open:0)-($Ps.east?n.east.spacing_open:0)),-1===t)return a;if(t>0)return round(a*t);if("center"==e)return 0;var o="horz"===i?"height":"width",r=$Ps[e],s="height"===o?$Cs[e]:!1,l=$.layout.showInvisibly(r),c=r.css(o),d=s?s.css(o):0;return r.css(o,"auto"),s&&s.css(o,"auto"),t="height"===o?r.outerHeight():r.outerWidth(),r.css(o,c).css(l),s&&s.css(o,d),t},getPaneSize=function(e,t){var i=$Ps[e],n=options[e],a=state[e],o=t?n.spacing_open:0,r=t?n.spacing_closed:0;return!i||a.isHidden?0:a.isClosed||a.isSliding&&t?r:"horz"===_c[e].dir?i.outerHeight()+o:i.outerWidth()+o},setSizeLimits=function(e,t){if(isInitialized()){var i=options[e],n=state[e],a=_c[e],o=a.dir,r=(a.sizeType.toLowerCase(),void 0!=t?t:n.isSliding),s=($Ps[e],i.spacing_open),l=_c.oppositeEdge[e],c=state[l],d=$Ps[l],u=!d||c.isVisible===!1||c.isSliding?0:"horz"==o?d.outerHeight():d.outerWidth(),p=(!d||c.isHidden?0:options[l][c.isClosed!==!1?"spacing_closed":"spacing_open"])||0,m="horz"==o?sC.innerHeight:sC.innerWidth,h=cssMinDims("center"),g="horz"==o?max(options.center.minHeight,h.minHeight):max(options.center.minWidth,h.minWidth),f=m-s-(r?0:_parseSize("center",g,o)+u+p),v=n.minSize=max(_parseSize(e,i.minSize),cssMinDims(e).minSize),S=n.maxSize=min(i.maxSize?_parseSize(e,i.maxSize):1e5,f),P=n.resizerPosition={},b=sC.inset.top,C=sC.inset.left,_=sC.innerWidth,y=sC.innerHeight,I=i.spacing_open;switch(e){case"north":P.min=b+v,P.max=b+S;break;case"west":P.min=C+v,P.max=C+S;break;case"south":P.min=b+y-S-I,P.max=b+y-v-I;break;case"east":P.min=C+_-S-I,P.max=C+_-v-I}}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return e.width=sC.innerWidth-e.left-e.right,e.height=sC.innerHeight-e.bottom-e.top,e.top+=sC.inset.top,e.bottom+=sC.inset.bottom,e.left+=sC.inset.left,e.right+=sC.inset.right,e},getHoverClasses=function(e,t){var i=$(e),n=i.data("layoutRole"),a=i.data("layoutEdge"),o=options[a],r=o[n+"Class"],s="-"+a,l="-open",c="-closed",d="-sliding",u="-hover ",p=i.hasClass(r+c)?c:l,m=p===c?l:c,h=r+u+(r+s+u)+(r+p+u)+(r+s+p+u);return t&&(h+=r+m+u+(r+s+m+u)),"resizer"==n&&i.hasClass(r+d)&&(h+=r+d+u+(r+s+d+u)),$.trim(h)},addHover=function(e,t){var i=$(t||this);e&&"toggler"===i.data("layoutRole")&&e.stopPropagation(),i.addClass(getHoverClasses(i))},removeHover=function(e,t){var i=$(t||this);i.removeClass(getHoverClasses(i,!0))},onResizerEnter=function(){var e=$(this).data("layoutEdge"),t=state[e];$(document),t.isResizing||state.paneResizing||options.maskPanesEarly&&showMasks(e,{resizing:!0})},onResizerLeave=function(e,t){var i=t||this,n=$(i).data("layoutEdge"),a=n+"ResizerLeave";$(document),timer.clear(n+"_openSlider"),timer.clear(a),t?options.maskPanesEarly&&!state.paneResizing&&hideMasks():timer.set(a,function(){onResizerLeave(e,i)},200)},_create=function(){initOptions();var e=options,t=state;return t.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),e.initPanes&&_initLayoutElements(),delete t.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible"))return!e&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(t.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,t.inset)),initPanes(),t.scrollToBookmarkOnLoad){var i=self.location;i.hash&&i.replace(i.hash)}return Instance.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(e,t){var i=evtPane.call(this,e),n=$Ps[i];if(n){var a=$Cs[i],o=state[i],r=options[i],s=options.stateManagement||{},l=t?r.children=t:r.children;if($.isPlainObject(l))l=[l];else if(!l||!$.isArray(l))return;$.each(l,function(e,t){if($.isPlainObject(t)){var r=t.containerSelector?n.find(t.containerSelector):a||n;r.each(function(){var e=$(this),n=e.data("layout");if(!n){if(setInstanceKey({container:e,options:t},o),s.includeChildren&&state.stateData[i]){var a=state.stateData[i].children||{},r=a[t.instanceKey],l=t.stateManagement||(t.stateManagement={autoLoad:!0});l.autoLoad===!0&&r&&(l.autoSave=!1,l.includeChildren=!0,l.autoLoad=$.extend(!0,{},r))}n=e.layout(t),n&&refreshChildren(i,n)}})}})}},setInstanceKey=function(e,t){var i=e.container,n=e.options,a=n.stateManagement,o=n.instanceKey||i.data("layoutInstanceKey");return o||(o=(a&&a.cookie?a.cookie.name:"")||n.name),o=o?o.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++t.childIdx,n.instanceKey=o,i.data("layoutInstanceKey",o),o},refreshChildren=function(e,t){var i,n=$Ps[e],a=children[e],o=state[e];$.isPlainObject(a)&&($.each(a,function(e,t){t.destroyed&&delete a[e]}),$.isEmptyObject(a)&&(a=children[e]=null)),t||a||(t=n.data("layout")),t&&(t.hasParentLayout=!0,i=t.options,setInstanceKey(t,o),a||(a=children[e]={}),a[i.instanceKey]=t.container.data("layout")),Instance[e].children=children[e],t||createChildren(e)},windowResize=function(){var e=options,t=Number(e.resizeWithWindowDelay);10>t&&(t=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var t=elDims($N,e.inset);(t.innerWidth!==sC.innerWidth||t.innerHeight!==sC.innerHeight)&&resizeAll()},t),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);e>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},e)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var e,t,i=$N[0],n=$("html"),a=sC.tagName=i.tagName,o=sC.id=i.id,r=sC.className=i.className,s=options,l=s.name,c="position,margin,padding,border",d="layoutCSS",u={},p="hidden",m=$N.data("parentLayout"),h=$N.data("layoutEdge"),g=m&&h,f=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(s.name?s.name+" layout / ":"")+a+(o?"#"+o:r?".["+r+"]":""),sC.isBody="BODY"===a,g||sC.isBody||(e=$N.closest("."+$.layout.defaults.panes.paneClass),m=e.data("parentLayout"),h=e.data("layoutEdge"),g=m&&h),$N.data({layout:Instance,layoutContainer:sID}).addClass(s.containerClass);var v={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(l in v)$N.bind("layout"+l.toLowerCase()+"."+sID,Instance[v[l]||l]);g&&(Instance.hasParentLayout=!0,m.refreshChildren(h,Instance)),$N.data(d)||(sC.isBody?($N.data(d,$.extend(styles($N,c),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),n.data(d,$.extend(styles(n,"padding"),{height:"auto",overflow:n.css("overflow"),overflowX:n.css("overflowX"),overflowY:n.css("overflowY")}))):$N.data(d,styles($N,c+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(u={overflow:p,overflowX:p,overflowY:p},$N.css(u),s.inset&&!$.isPlainObject(s.inset)&&(t=parseInt(s.inset,10)||0,s.inset={top:t,bottom:t,left:t,right:t}),sC.isBody)s.outset?$.isPlainObject(s.outset)||(t=parseInt(s.outset,10)||0,s.outset={top:t,bottom:t,left:t,right:t}):s.outset={top:f(n,"paddingTop"),bottom:f(n,"paddingBottom"),left:f(n,"paddingLeft"),right:f(n,"paddingRight")},n.css(u).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),s.inset||(s.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(s.outset)),$.extend(sC,elDims($N,s.inset));else{var S=$N.css("position");S&&S.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,s.inset)),1>sC.innerHeight&&_log(s.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}f($N,"minWidth")&&$N.parent().css("overflowX","auto"),f($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(P){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=options[t];return i.enableCursorHotkey||i.customHotkey?($(document).bind("keydown."+sID,keyDown),!1):void 0})},initOptions=function(){function e(e){var t=options[e],i=options.panes;t.fxSettings||(t.fxSettings={}),i.fxSettings||(i.fxSettings={}),$.each(["_open","_close","_size"],function(n,a){var o="fxName"+a,r="fxSpeed"+a,s="fxSettings"+a,l=t[o]=t[o]||i[o]||t.fxName||i.fxName||"none",c=$.effects&&($.effects[l]||$.effects.effect&&$.effects.effect[l]);"none"!==l&&options.effects[l]&&c||(l=t[o]="none");var d=options.effects[l]||{},u=d.all||null,p=d[e]||null;t[r]=t[r]||i[r]||t.fxSpeed||i.fxSpeed||null,t[s]=$.extend(!0,{},u,p,i.fxSettings,t.fxSettings,i[s],t[s])}),delete t.fxName,delete t.fxSpeed,delete t.fxSettings}var t,i,n,a,o,r,s;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(t=$.layout.optionsMap.noDefault,o=0,r=t.length;r>o;o++)n=t[o],delete opts.panes[n];for(t=$.layout.optionsMap.layout,o=0,r=t.length;r>o;o++)n=t[o],delete opts.panes[n]}t=$.layout.optionsMap.layout;var l=$.layout.config.optionRootKeys;for(n in opts)a=opts[n],0>$.inArray(n,l)&&0>$.inArray(n,t)&&(opts.panes[n]||(opts.panes[n]=$.isPlainObject(a)?$.extend(!0,{},a):a),delete opts[n]);$.extend(!0,options,opts),$.each(_c.allPanes,function(a,o){if(_c[o]=$.extend(!0,{},_c.panes,_c[o]),i=options.panes,s=options[o],"center"===o)for(t=$.layout.optionsMap.center,a=0,r=t.length;r>a;a++)n=t[a],opts.center[n]||!opts.panes[n]&&s[n]||(s[n]=i[n]);else s=options[o]=$.extend(!0,{},i,s),e(o),s.resizerClass||(s.resizerClass="ui-layout-resizer"),s.togglerClass||(s.togglerClass="ui-layout-toggler");s.paneClass||(s.paneClass="ui-layout-pane")});var c=opts.zIndex,d=options.zIndexes;c>0&&(d.pane_normal=c,d.content_mask=max(c+1,d.content_mask),d.resizer_normal=max(c+2,d.resizer_normal)),delete options.panes},getPane=function(e){var t=options[e].paneSelector;if("#"===t.substr(0,1))return $N.find(t).eq(0);var i=$N.children(t).eq(0);return i.length?i:$N.children("form:first").children(t).eq(0)},initPanes=function(e){evtPane(e),$.each(_c.allPanes,function(e,t){addPane(t,!0)}),initHandles(),$.each(_c.borderPanes,function(e,t){$Ps[t]&&state[t].isVisible&&(setSizeLimits(t),makePaneFit(t))}),sizeMidPanes("center"),$.each(_c.allPanes,function(e,t){afterInitPane(t)})},addPane=function(e,t){if(t||isInitialized()){var i,n,a,o=options[e],r=state[e],s=_c[e],l=s.dir,c=(r.fx,o.spacing_open||0,"center"===e),d={},u=$Ps[e];if(u?removePane(e,!1,!0,!1):$Cs[e]=!1,u=$Ps[e]=getPane(e),!u.length)return $Ps[e]=!1,void 0;if(!u.data("layoutCSS")){var p="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";u.data("layoutCSS",styles(u,p))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],children:children[e]},u.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(s.cssReq).css("zIndex",options.zIndexes.pane_normal).css(o.applyDemoStyles?s.cssDemo:{}).addClass(o.paneClass+" "+o.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var m,h={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(m in h)u.bind("layoutpane"+m.toLowerCase()+"."+sID,Instance[h[m]||m]);initContent(e,!1),c||(i=r.size=_parseSize(e,o.size),n=_parseSize(e,o.minSize)||1,a=_parseSize(e,o.maxSize)||1e5,i>0&&(i=max(min(i,a),n)),r.autoResize=o.autoResize,r.isClosed=!1,r.isSliding=!1,r.isResizing=!1,r.isHidden=!1,r.pins||(r.pins=[])),r.tagName=u[0].tagName,r.edge=e,r.noRoom=!1,r.isVisible=!0,setPanePosition(e),"horz"===l?d.height=cssH(u,i):"vert"===l&&(d.width=cssW(u,i)),u.css(d),"horz"!=l&&sizeMidPanes(e,!0),state.initialized&&(initHandles(e),initHotkeys(e)),o.initClosed&&o.closable&&!o.initHidden?close(e,!0,!0):o.initHidden||o.initClosed?hide(e):r.noRoom||u.css("display","block"),u.css("visibility","visible"),o.showOverflowOnHover&&u.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(e)
}},afterInitPane=function(e){var t=$Ps[e],i=state[e],n=options[e];t&&(t.data("layout")&&refreshChildren(e,t.data("layout")),i.isVisible&&(state.initialized?resizeAll():sizeContent(e),n.triggerEventsOnLoad?_runCallbacks("onresize_end",e):resizeChildren(e,!0)),n.initChildren&&n.children&&createChildren(e))},setPanePosition=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t],n=$Rs[t],a=(options[t],state[t]),o=_c[t].side,r={};if(i){switch(t){case"north":r.top=sC.inset.top,r.left=sC.inset.left,r.right=sC.inset.right;break;case"south":r.bottom=sC.inset.bottom,r.left=sC.inset.left,r.right=sC.inset.right;break;case"west":r.left=sC.inset.left;break;case"east":r.right=sC.inset.right;break;case"center":}i.css(r),n&&a.isClosed?n.css(o,sC.inset[o]):n&&!a.isHidden&&n.css(o,sC.inset[o]+getPaneSize(t))}})},initHandles=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t];if($Rs[t]=!1,$Ts[t]=!1,i){var n=options[t],a=state[t],o=(_c[t],"#"===n.paneSelector.substr(0,1)?n.paneSelector.substr(1):""),r=n.resizerClass,s=n.togglerClass,l=(a.isVisible?n.spacing_open:n.spacing_closed,"-"+t),c=(a.isVisible?"-open":"-closed",Instance[t]),d=c.resizer=$Rs[t]=$("<div></div>"),u=c.toggler=n.closable?$Ts[t]=$("<div></div>"):!1;!a.isVisible&&n.slidable&&d.attr("title",n.tips.Slide).css("cursor",n.sliderCursor),d.attr("id",o?o+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(n.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(r+" "+r+l).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).mousedown($.layout.disableTextSelection).mouseup($.layout.enableTextSelection).appendTo($N),$.fn.disableSelection&&d.disableSelection(),n.resizerDblClickToggle&&d.bind("dblclick."+sID,toggle),u&&(u.attr("id",o?o+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(n.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(s+" "+s+l).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(d),n.togglerContent_open&&$("<span>"+n.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(u),n.togglerContent_closed&&$("<span>"+n.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(u),enableClosable(t)),initResizable(t),a.isVisible?setAsOpen(t):(setAsClosed(t),bindStartSlidingEvents(t,!0))}}),sizeHandles()},initContent=function(e,t){if(isInitialized()){var i,n=options[e],a=n.contentSelector,o=Instance[e],r=$Ps[e];a&&(i=o.content=$Cs[e]=n.findNestedContent?r.find(a).eq(0):r.children(a).eq(0)),i&&i.length?(i.data("layoutRole","content"),i.data("layoutCSS")||i.data("layoutCSS",styles(i,"height")),i.css(_c.content.cssReq),n.applyDemoStyles&&(i.css(_c.content.cssDemo),r.css(_c.content.cssDemoPane)),r.css("overflowX").match(/(scroll|auto)/)&&r.css("overflow","hidden"),state[e].content={},t!==!1&&sizeContent(e)):o.content=$Cs[e]=!1}},initResizable=function(e){var t=$.layout.plugins.draggable;e=e?e.split(","):_c.borderPanes,$.each(e,function(e,n){var a=options[n];if(!t||!$Ps[n]||!a.resizable)return a.resizable=!1,!0;var o,r,s=state[n],l=options.zIndexes,c=_c[n],d="horz"==c.dir?"top":"left",u=($Ps[n],$Rs[n]),p=a.resizerClass,m=0,h=p+"-drag",g=p+"-"+n+"-drag",f=p+"-dragging",v=p+"-"+n+"-dragging",S=p+"-dragging-limit",P=p+"-"+n+"-dragging-limit",b=!1;s.isClosed||u.attr("title",a.tips.Resize).css("cursor",a.resizerCursor),u.draggable({containment:$N[0],axis:"horz"==c.dir?"y":"x",delay:0,distance:1,grid:a.resizingGrid,helper:"clone",opacity:a.resizerDragOpacity,addClasses:!1,zIndex:l.resizer_drag,start:function(e,t){return a=options[n],s=state[n],r=a.livePaneResizing,!1===_runCallbacks("ondrag_start",n)?!1:(s.isResizing=!0,state.paneResizing=n,timer.clear(n+"_closeSlider"),setSizeLimits(n),o=s.resizerPosition,m=t.position[d],u.addClass(h+" "+g),b=!1,showMasks(n,{resizing:!0}),void 0)},drag:function(e,t){b||(t.helper.addClass(f+" "+v).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),b=!0,s.isSliding&&$Ps[n].css("zIndex",l.pane_sliding));var c=0;t.position[d]<o.min?(t.position[d]=o.min,c=-1):t.position[d]>o.max&&(t.position[d]=o.max,c=1),c?(t.helper.addClass(S+" "+P),window.defaultStatus=c>0&&n.match(/(north|west)/)||0>c&&n.match(/(south|east)/)?a.tips.maxSizeWarning:a.tips.minSizeWarning):(t.helper.removeClass(S+" "+P),window.defaultStatus=""),r&&Math.abs(t.position[d]-m)>=a.liveResizingTolerance&&(m=t.position[d],i(e,t,n))},stop:function(e,t){$("body").enableSelection(),window.defaultStatus="",u.removeClass(h+" "+g),s.isResizing=!1,state.paneResizing=!1,i(e,t,n,!0)}})});var i=function(e,t,i,n){var a,o=t.position,r=_c[i],s=options[i],l=state[i];switch(i){case"north":a=o.top;break;case"west":a=o.left;break;case"south":a=sC.layoutHeight-o.top-s.spacing_open;break;case"east":a=sC.layoutWidth-o.left-s.spacing_open}var c=a-sC.inset[r.side];if(n)!1!==_runCallbacks("ondrag_end",i)&&manualSizePane(i,c,!1,!0),hideMasks(!0),l.isSliding&&showMasks(i,{resizing:!0});else{if(Math.abs(c-l.size)<s.liveResizingTolerance)return;manualSizePane(i,c,!1,!0),sizeMasks()}}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),i=state[t];"IFRAME"==i.tagName&&i.isVisible&&e.css({top:i.offsetTop,left:i.offsetLeft,width:i.outerWidth,height:i.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var i,n,a=_c[e],o=["center"],r=options.zIndexes,s=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[e].isSliding},t);s.resizing&&o.push(e),s.sliding&&o.push(_c.oppositeEdge[e]),"horz"===a.dir&&(o.push("west"),o.push("east")),$.each(o,function(e,t){n=state[t],i=options[t],n.isVisible&&(i.maskObjects||!s.objectsOnly&&i.maskContents)&&getMasks(t).each(function(){sizeMask.call(this),this.style.zIndex=n.isSliding?r.pane_sliding+1:r.pane_normal+1,this.style.display="block"})})},hideMasks=function(e){if(e||!state.paneResizing)$Ms.hide();else if(!e&&!$.isEmptyObject(state.panesSliding))for(var t,i,n=$Ms.length-1;n>=0;n--)i=$Ms.eq(n),t=i.data("layoutMask"),options[t].maskObjects||i.hide()},getMasks=function(e){for(var t,i=$([]),n=0,a=$Ms.length;a>n;n++)t=$Ms.eq(n),t.data("layoutMask")===e&&(i=i.add(t));return i.length?i:createMasks(e)},createMasks=function(e){var t,i,n,a,o,r=$Ps[e],s=state[e],l=options[e],c=options.zIndexes;if($Ms=$([]),!l.maskContents&&!l.maskObjects)return $Ms;for(o=0;(l.maskObjects?2:1)>o;o++)t=l.maskObjects&&0==o,i=document.createElement(t?"iframe":"div"),n=$(i).data("layoutMask",e),i.className="ui-layout-mask ui-layout-mask-"+e,a=i.style,a.background="#FFF",a.position="absolute",a.display="block",t?(i.src="about:blank",i.frameborder=0,a.border=0,a.opacity=0,a.filter="Alpha(Opacity='0')"):(a.opacity=.001,a.filter="Alpha(Opacity='1')"),"IFRAME"==s.tagName?(a.zIndex=c.pane_normal+1,$N.append(i)):(n.addClass("ui-layout-mask-inside-pane"),a.zIndex=l.maskZindex||c.content_mask,a.top=0,a.left=0,a.width="100%",a.height="100%",r.append(i)),$Ms=$Ms.add(i);return $Ms},destroy=function(e,t){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof e?evtPane(e):t=e,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(e,i){removePane(i,!1,!0,t)});var i="layoutCSS";$N.data(i)&&!$N.data("layoutRole")&&$N.css($N.data(i)).removeData(i),"BODY"===sC.tagName&&($N=$("html")).data(i)&&$N.css($N.data(i)).removeData(i),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(var n in Instance)n.match(/^(container|options)$/)||delete Instance[n];return Instance.destroyed=!0,Instance},removePane=function(e,t,i,n){if(isInitialized()){var a=evtPane.call(this,e),o=$Ps[a],r=$Cs[a],s=$Rs[a],l=$Ts[a];o&&$.isEmptyObject(o.data())&&(o=!1),r&&$.isEmptyObject(r.data())&&(r=!1),s&&$.isEmptyObject(s.data())&&(s=!1),l&&$.isEmptyObject(l.data())&&(l=!1),o&&o.stop(!0,!0);var c=options[a],d=state[a],u="layout",p="layoutCSS",m=children[a],h=$.isPlainObject(m)&&!$.isEmptyObject(m),g=void 0!==n?n:c.destroyChildren;if(h&&g&&($.each(m,function(e,t){t.destroyed||t.destroy(!0),t.destroyed&&delete m[e]}),$.isEmptyObject(m)&&(m=children[a]=null,h=!1)),o&&t&&!h)o.remove();else if(o&&o[0]){var f=c.paneClass,v=f+"-"+a,S="-open",P="-sliding",b="-closed",C=[f,f+S,f+b,f+P,v,v+S,v+b,v+P];$.merge(C,getHoverClasses(o,!0)),o.removeClass(C.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),h&&r?(r.width(r.width()),$.each(m,function(e,t){t.resizeAll()})):r&&r.css(r.data(p)).removeData(p).removeData("layoutRole"),o.data(u)||o.css(o.data(p)).removeData(p)}l&&l.remove(),s&&s.remove(),Instance[a]=$Ps[a]=$Cs[a]=$Rs[a]=$Ts[a]=!1,d={removed:!0},i||resizeAll()}},_hidePane=function(e){var t=$Ps[e],i=options[e],n=t[0].style;i.useOffscreenClose?(t.data(_c.offscreenReset)||t.data(_c.offscreenReset,{left:n.left,right:n.right}),t.css(_c.offscreenCSS)):t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],i=options[e],n=_c.offscreenCSS,a=t.data(_c.offscreenReset),o=t[0].style;t.show().removeData(_c.offscreenReset),i.useOffscreenClose&&a&&(o.left==n.left&&(o.left=a.left),o.right==n.right&&(o.right=a.right))},hide=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=options[i],a=state[i],o=$Ps[i],r=$Rs[i];"center"!==i&&o&&!a.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",i)||(a.isSliding=!1,delete state.panesSliding[i],r&&r.hide(),!state.initialized||a.isClosed?(a.isClosed=!0,a.isHidden=!0,a.isVisible=!1,state.initialized||_hidePane(i),sizeMidPanes("horz"===_c[i].dir?"":"center"),(state.initialized||n.triggerEventsOnLoad)&&_runCallbacks("onhide_end",i)):(a.isHiding=!0,close(i,!1,t))))}},show=function(e,t,i,n){if(isInitialized()){var a=evtPane.call(this,e),o=(options[a],state[a]),r=$Ps[a];$Rs[a],"center"!==a&&r&&o.isHidden&&!1!==_runCallbacks("onshow_start",a)&&(o.isShowing=!0,o.isSliding=!1,delete state.panesSliding[a],t===!1?close(a,!0):open(a,!1,i,n))}},toggle=function(e,t){if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=state[n];i&&i.stopImmediatePropagation(),a.isHidden?show(n):a.isClosed?open(n,!!t):close(n)}},_closePane=function(e,t){var i=($Ps[e],state[e]);_hidePane(e),i.isClosed=!0,i.isVisible=!1,t&&setAsClosed(e)},close=function(e,t,i,n){function a(){p.isMoving=!1,bindStartSlidingEvents(o,!0);var e=_c.oppositeEdge[o];state[e].noRoom&&(setSizeLimits(e),makePaneFit(e)),n||!state.initialized&&!u.triggerEventsOnLoad||(s||_runCallbacks("onclose_end",o),s&&_runCallbacks("onshow_end",o),l&&_runCallbacks("onhide_end",o))}var o=evtPane.call(this,e);if("center"!==o){if(!state.initialized&&$Ps[o])return _closePane(o,!0),void 0;if(isInitialized()){var r,s,l,c,d=$Ps[o],u=($Rs[o],$Ts[o],options[o]),p=state[o];_c[o],$N.queue(function(e){if(!d||!u.closable&&!p.isShowing&&!p.isHiding||!t&&p.isClosed&&!p.isShowing)return e();var n=!p.isShowing&&!1===_runCallbacks("onclose_start",o);return s=p.isShowing,l=p.isHiding,c=p.isSliding,delete p.isShowing,delete p.isHiding,n?e():(r=!i&&!p.isClosed&&"none"!=u.fxName_close,p.isMoving=!0,p.isClosed=!0,p.isVisible=!1,l?p.isHidden=!0:s&&(p.isHidden=!1),p.isSliding?bindStopSlidingEvents(o,!1):sizeMidPanes("horz"===_c[o].dir?"":"center",!1),setAsClosed(o),r?(lockPaneForFX(o,!0),d.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(o,!1),p.isClosed&&a(),e()})):(_hidePane(o),a(),e()),void 0)})}}},setAsClosed=function(e){if($Rs[e]){var t=($Ps[e],$Rs[e]),i=$Ts[e],n=options[e],a=state[e],o=_c[e].side,r=n.resizerClass,s=n.togglerClass,l="-"+e,c="-open",d="-sliding",u="-closed";t.css(o,sC.inset[o]).removeClass(r+c+" "+r+l+c).removeClass(r+d+" "+r+l+d).addClass(r+u+" "+r+l+u),a.isHidden&&t.hide(),n.resizable&&$.layout.plugins.draggable&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),i&&(i.removeClass(s+c+" "+s+l+c).addClass(s+u+" "+s+l+u).attr("title",n.tips.Open),i.children(".content-open").hide(),i.children(".content-closed").css("display","block")),syncPinBtns(e,!1),state.initialized&&sizeHandles()}},open=function(e,t,i,n){function a(){d.isMoving=!1,_fixIframe(s),d.isSliding||sizeMidPanes("vert"==_c[s].dir?"center":"",!1),setAsOpen(s)}if(isInitialized()){var o,r,s=evtPane.call(this,e),l=$Ps[s],c=($Rs[s],$Ts[s],options[s]),d=state[s];_c[s],"center"!==s&&$N.queue(function(e){if(!l||!c.resizable&&!c.closable&&!d.isShowing||d.isVisible&&!d.isSliding)return e();if(d.isHidden&&!d.isShowing)return e(),show(s,!0),void 0;d.autoResize&&d.size!=c.size?sizePane(s,c.size,!0,!0,!0):setSizeLimits(s,t);var u=_runCallbacks("onopen_start",s);return"abort"===u?e():("NC"!==u&&setSizeLimits(s,t),d.minSize>d.maxSize?(syncPinBtns(s,!1),!n&&c.tips.noRoomToOpen&&alert(c.tips.noRoomToOpen),e()):(t?bindStopSlidingEvents(s,!0):d.isSliding?bindStopSlidingEvents(s,!1):c.slidable&&bindStartSlidingEvents(s,!1),d.noRoom=!1,makePaneFit(s),r=d.isShowing,delete d.isShowing,o=!i&&d.isClosed&&"none"!=c.fxName_open,d.isMoving=!0,d.isVisible=!0,d.isClosed=!1,r&&(d.isHidden=!1),o?(lockPaneForFX(s,!0),l.show(c.fxName_open,c.fxSettings_open,c.fxSpeed_open,function(){lockPaneForFX(s,!1),d.isVisible&&a(),e()})):(_showPane(s),a(),e()),void 0))})}},setAsOpen=function(e,t){var i=$Ps[e],n=$Rs[e],a=$Ts[e],o=options[e],r=state[e],s=_c[e].side,l=o.resizerClass,c=o.togglerClass,d="-"+e,u="-open",p="-closed",m="-sliding";n.css(s,sC.inset[s]+getPaneSize(e)).removeClass(l+p+" "+l+d+p).addClass(l+u+" "+l+d+u),r.isSliding?n.addClass(l+m+" "+l+d+m):n.removeClass(l+m+" "+l+d+m),removeHover(0,n),o.resizable&&$.layout.plugins.draggable?n.draggable("enable").css("cursor",o.resizerCursor).attr("title",o.tips.Resize):r.isSliding||n.css("cursor","default"),a&&(a.removeClass(c+p+" "+c+d+p).addClass(c+u+" "+c+d+u).attr("title",o.tips.Close),removeHover(0,a),a.children(".content-closed").hide(),a.children(".content-open").css("display","block")),syncPinBtns(e,!r.isSliding),$.extend(r,elDims(i)),state.initialized&&(sizeHandles(),sizeContent(e,!0)),!t&&(state.initialized||o.triggerEventsOnLoad)&&i.is(":visible")&&(_runCallbacks("onopen_end",e),r.isShowing&&_runCallbacks("onshow_end",e),state.initialized&&_runCallbacks("onresize_end",e))},slideOpen=function(e){function t(){a.isClosed?a.isMoving||open(n,!0):bindStopSlidingEvents(n,!0)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=state[n],o=options[n].slideDelay_open;"center"!==n&&(i&&i.stopImmediatePropagation(),a.isClosed&&i&&"mouseenter"===i.type&&o>0?timer.set(n+"_openSlider",t,o):t())}},slideClose=function(e){function t(){o.isClosed?bindStopSlidingEvents(n,!1):o.isMoving||close(n)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=options[n],o=state[n],r=o.isMoving?1e3:300;if("center"!==n&&!o.isClosed&&!o.isResizing)if("click"===a.slideTrigger_close)t();else{if(a.preventQuickSlideClose&&o.isMoving)return;if(a.preventPrematureSlideClose&&i&&$.layout.isMouseOverElem(i,$Ps[n]))return;i?timer.set(n+"_closeSlider",t,max(a.slideDelay_close,r)):t()}}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,!0)},lockPaneForFX=function(e,t){var i=$Ps[e],n=state[e],a=options[e],o=options.zIndexes;t?(showMasks(e,{animation:!0,objectsOnly:!0}),i.css({zIndex:o.pane_animate}),"south"==e?i.css({top:sC.inset.top+sC.innerHeight-i.outerHeight()}):"east"==e&&i.css({left:sC.inset.left+sC.innerWidth-i.outerWidth()})):(hideMasks(),i.css({zIndex:n.isSliding?o.pane_sliding:o.pane_normal}),"south"==e?i.css({top:"auto"}):"east"!=e||i.css("left").match(/\-99999/)||i.css({left:"auto"}),browser.msie&&a.fxOpacityFix&&"slide"!=a.fxName_open&&i.css("filter")&&1==i.css("opacity")&&i[0].style.removeAttribute("filter"))},bindStartSlidingEvents=function(e,t){var i=options[e],n=($Ps[e],$Rs[e]),a=i.slideTrigger_open.toLowerCase();!n||t&&!i.slidable||(a.match(/mouseover/)?a=i.slideTrigger_open="mouseenter":a.match(/(click|dblclick|mouseenter)/)||(a=i.slideTrigger_open="click"),i.resizerDblClickToggle&&a.match(/click/)&&n[t?"unbind":"bind"]("dblclick."+sID,toggle),n[t?"bind":"unbind"](a+"."+sID,slideOpen).css("cursor",t?i.sliderCursor:"default").attr("title",t?i.tips.Slide:""))},bindStopSlidingEvents=function(e,t){function i(t){timer.clear(e+"_closeSlider"),t.stopPropagation()}var n=options[e],a=state[e],o=(_c[e],options.zIndexes),r=n.slideTrigger_close.toLowerCase(),s=t?"bind":"unbind",l=$Ps[e],c=$Rs[e];timer.clear(e+"_closeSlider"),t?(a.isSliding=!0,state.panesSliding[e]=!0,bindStartSlidingEvents(e,!1)):(a.isSliding=!1,delete state.panesSliding[e]),l.css("zIndex",t?o.pane_sliding:o.pane_normal),c.css("zIndex",t?o.pane_sliding+2:o.resizer_normal),r.match(/(click|mouseleave)/)||(r=n.slideTrigger_close="mouseleave"),c[s](r,slideClose),"mouseleave"===r&&(l[s]("mouseleave."+sID,slideClose),c[s]("mouseenter."+sID,i),l[s]("mouseenter."+sID,i)),t?"click"!==r||n.resizable||(c.css("cursor",t?n.sliderCursor:"default"),c.attr("title",t?n.tips.Close:"")):timer.clear(e+"_closeSlider")},makePaneFit=function(e,t,i,n){var a=options[e],o=state[e],r=_c[e],s=$Ps[e],l=$Rs[e],c="vert"===r.dir,d=!1;if(("center"===e||c&&o.noVerticalRoom)&&(d=o.maxHeight>=0,d&&o.noRoom?(_showPane(e),l&&l.show(),o.isVisible=!0,o.noRoom=!1,c&&(o.noVerticalRoom=!1),_fixIframe(e)):d||o.noRoom||(_hidePane(e),l&&l.hide(),o.isVisible=!1,o.noRoom=!0)),"center"===e);else if(o.minSize<=o.maxSize){if(d=!0,o.size>o.maxSize)sizePane(e,o.maxSize,i,!0,n);else if(o.size<o.minSize)sizePane(e,o.minSize,i,!0,n);else if(l&&o.isVisible&&s.is(":visible")){var u=o.size+sC.inset[r.side];$.layout.cssNum(l,r.side)!=u&&l.css(r.side,u)}o.noRoom&&(o.wasOpen&&a.closable?a.autoReopen?open(e,!1,!0,!0):o.noRoom=!1:show(e,o.wasOpen,!0,!0))}else o.noRoom||(o.noRoom=!0,o.wasOpen=!o.isClosed&&!o.isSliding,o.isClosed||(a.closable?close(e,!0,!0):hide(e,!0)))},manualSizePane=function(e,t,i,n,a){if(isInitialized()){var o=evtPane.call(this,e),r=options[o],s=state[o],l=a||r.livePaneResizing&&!s.isResizing;"center"!==o&&(s.autoResize=!1,sizePane(o,t,i,n,l))}},sizePane=function(e,t,i,n,a){function o(){for(var e="width"===h?u.outerWidth():u.outerHeight(),n=[{pane:l,count:1,target:t,actual:e,correct:t===e,attempt:t,cssSize:s}],o=n[0],c={},f="Inaccurate size after resizing the "+l+"-pane.";!(o.correct||(c={pane:l,count:o.count+1,target:t},c.attempt=o.actual>t?max(0,o.attempt-(o.actual-t)):max(0,o.attempt+(t-o.actual)),c.cssSize=cssSize(l,c.attempt),u.css(h,c.cssSize),c.actual="width"==h?u.outerWidth():u.outerHeight(),c.correct=t===c.actual,1===n.length&&(_log(f,!1,!0),_log(o,!1,!0)),_log(c,!1,!0),n.length>3));)n.push(c),o=n[n.length-1];d.size=t,$.extend(d,elDims(u)),d.isVisible&&u.is(":visible")&&(p&&p.css(m,t+sC.inset[m]),sizeContent(l)),!i&&!g&&state.initialized&&d.isVisible&&_runCallbacks("onresize_end",l),i||(d.isSliding||sizeMidPanes("horz"==_c[l].dir?"":"center",g,a),sizeHandles());var v=_c.oppositeEdge[l];r>t&&state[v].noRoom&&(setSizeLimits(v),makePaneFit(v,!1,i)),n.length>1&&_log(f+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var r,s,l=evtPane.call(this,e),c=options[l],d=state[l],u=$Ps[l],p=$Rs[l],m=_c[l].side,h=_c[l].sizeType.toLowerCase(),g=d.isResizing&&!c.triggerEventsDuringLiveResize,f=n!==!0&&c.animatePaneSizing;"center"!==l&&$N.queue(function(e){if(setSizeLimits(l),r=d.size,t=_parseSize(l,t),t=max(t,_parseSize(l,c.minSize)),t=min(t,d.maxSize),d.minSize>t)return e(),makePaneFit(l,!1,i),void 0;if(!a&&t===r)return e();if(d.newSize=t,!i&&state.initialized&&d.isVisible&&_runCallbacks("onresize_start",l),s=cssSize(l,t),f&&u.is(":visible")){var n=$.layout.effects.size[l]||$.layout.effects.size.all,p=c.fxSettings_size.easing||n.easing,m=options.zIndexes,g={};g[h]=s+"px",d.isMoving=!0,u.css({zIndex:m.pane_animate}).show().animate(g,c.fxSpeed_size,p,function(){u.css({zIndex:d.isSliding?m.pane_sliding:m.pane_normal}),d.isMoving=!1,delete d.newSize,o(),e()})}else u.css(h,s),delete d.newSize,u.is(":visible")?o():d.size=t,e()})}},sizeMidPanes=function(e,t,i){e=(e?e:"east,west,center").split(","),$.each(e,function(e,n){if($Ps[n]){var a=options[n],o=state[n],r=$Ps[n],s=($Rs[n],!0),l={},c=$.layout.showInvisibly(r),d=calcNewCenterPaneDims();if($.extend(o,elDims(r)),"center"===n){if(!i&&o.isVisible&&d.width===o.outerWidth&&d.height===o.outerHeight)return r.css(c),!0;if($.extend(o,cssMinDims(n),{maxWidth:d.width,maxHeight:d.height}),l=d,o.newWidth=l.width,o.newHeight=l.height,l.width=cssW(r,l.width),l.height=cssH(r,l.height),s=l.width>=0&&l.height>=0,!state.initialized&&a.minWidth>d.width){var u=a.minWidth-o.outerWidth,p=options.east.minSize||0,m=options.west.minSize||0,h=state.east.size,g=state.west.size,f=h,v=g;if(u>0&&state.east.isVisible&&h>p&&(f=max(h-p,h-u),u-=h-f),u>0&&state.west.isVisible&&g>m&&(v=max(g-m,g-u),u-=g-v),0===u)return h&&h!=p&&sizePane("east",f,!0,!0,i),g&&g!=m&&sizePane("west",v,!0,!0,i),sizeMidPanes("center",t,i),r.css(c),void 0}}else{if(o.isVisible&&!o.noVerticalRoom&&$.extend(o,elDims(r),cssMinDims(n)),!i&&!o.noVerticalRoom&&d.height===o.outerHeight)return r.css(c),!0;l.top=d.top,l.bottom=d.bottom,o.newSize=d.height,l.height=cssH(r,d.height),o.maxHeight=l.height,s=o.maxHeight>=0,s||(o.noVerticalRoom=!0)}if(s?(!t&&state.initialized&&_runCallbacks("onresize_start",n),r.css(l),"center"!==n&&sizeHandles(n),!o.noRoom||o.isClosed||o.isHidden||makePaneFit(n),o.isVisible&&($.extend(o,elDims(r)),state.initialized&&sizeContent(n))):!o.noRoom&&o.isVisible&&makePaneFit(n),r.css(c),delete o.newSize,delete o.newWidth,delete o.newHeight,!o.isVisible)return!0;if("center"===n){var S=browser.isIE6||!browser.boxModel;$Ps.north&&(S||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(S||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!t&&state.initialized&&_runCallbacks("onresize_end",n)}})},resizeAll=function(e){var t=sC.innerWidth,i=sC.innerHeight;if(evtPane(e),$N.is(":visible")){if(!state.initialized)return _initLayoutElements(),void 0;if(e===!0&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(e===!0&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;var n,a,o;i>sC.innerHeight,t>sC.innerWidth,$.each(["south","north","east","west"],function(e,t){$Ps[t]&&(a=options[t],o=state[t],o.autoResize&&o.size!=a.size?sizePane(t,a.size,!0,!0,!0):(setSizeLimits(t),makePaneFit(t,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(e,t){n=$Ps[t],n&&state[t].isVisible&&_runCallbacks("onresize_end",t)}),_runCallbacks("onresizeall_end")}}},resizeChildren=function(e,t){var i=evtPane.call(this,e);if(options[i].resizeChildren){t||refreshChildren(i);var n=children[i];$.isPlainObject(n)&&$.each(n,function(e,t){t.destroyed||t.resizeAll()})}},sizeContent=function(e,t){if(isInitialized()){var i=evtPane.call(this,e);i=i?i.split(","):_c.allPanes,$.each(i,function(e,i){function n(e){return max(l.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function a(){var e=options[i].contentIgnoreSelector,t=r.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),a=t.filter(":visible"),o=a.filter(":last");c={top:r[0].offsetTop,height:r.outerHeight(),numFooters:t.length,hiddenFooters:t.length-a.length,spaceBelow:0},c.spaceAbove=c.top,c.bottom=c.top+c.height,c.spaceBelow=o.length?o[0].offsetTop+o.outerHeight()-c.bottom+n(o):n(r)}var o=$Ps[i],r=$Cs[i],s=options[i],l=state[i],c=l.content;if(!o||!r||!o.is(":visible"))return!0;if((r.length||(initContent(i,!1),r))&&!1!==_runCallbacks("onsizecontent_start",i)){(!l.isMoving&&!l.isResizing||s.liveContentResizing||t||void 0==c.top)&&(a(),c.hiddenFooters>0&&"hidden"===o.css("overflow")&&(o.css("overflow","visible"),a(),o.css("overflow","hidden")));var d=l.innerHeight-(c.spaceAbove-l.css.paddingTop)-(c.spaceBelow-l.css.paddingBottom);r.is(":visible")&&c.height==d||(setOuterHeight(r,d,!0),c.height=d),state.initialized&&_runCallbacks("onsizecontent_end",i)}})}},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes,$.each(t,function(e,t){var i,n=options[t],a=state[t],o=$Ps[t],r=$Rs[t],s=$Ts[t];if(o&&r){var l,c,d,u=_c[t].dir,p=a.isClosed?"_closed":"_open",m=n["spacing"+p],h=n["togglerAlign"+p],g=n["togglerLength"+p];if(0===m)return r.hide(),void 0;if(a.noRoom||a.isHidden||r.show(),"horz"===u?(l=sC.innerWidth,a.resizerLength=l,c=$.layout.cssNum(o,"left"),r.css({width:cssW(r,l),height:cssH(r,m),left:c>-9999?c:sC.inset.left})):(l=o.outerHeight(),a.resizerLength=l,r.css({height:cssH(r,l),width:cssW(r,m),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(n,r),s){if(0===g||a.isSliding&&n.hideTogglerOnSlide)return s.hide(),void 0;if(s.show(),!(g>0)||"100%"===g||g>l)g=l,d=0;else if(isStr(h))switch(h){case"top":case"left":d=0;break;case"bottom":case"right":d=l-g;break;case"middle":case"center":default:d=round((l-g)/2)}else{var f=parseInt(h,10);d=h>=0?f:l-g+f}if("horz"===u){var v=cssW(s,g);s.css({width:v,height:cssH(s,m),left:d,top:0}),s.children(".content").each(function(){i=$(this),i.css("marginLeft",round((v-i.outerWidth())/2))})}else{var S=cssH(s,g);s.css({height:S,width:cssW(s,m),top:d,left:0}),s.children(".content").each(function(){i=$(this),i.css("marginTop",round((S-i.outerHeight())/2))})}removeHover(0,s)}state.initialized||!n.initHidden&&!a.isHidden||(r.hide(),s&&s.hide())}})},enableClosable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Ts[t],n=options[t];i&&(n.closable=!0,i.bind("click."+sID,function(e){e.stopPropagation(),toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?n.tips.Open:n.tips.Close).show())}},disableClosable=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=$Ts[i];n&&(options[i].closable=!1,state[i].isClosed&&open(i,!1,!0),n.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].slidable=!0,state[t].isClosed&&bindStartSlidingEvents(t,!0))}},disableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&(options[t].slidable=!1,state[t].isSliding?close(t,!1,!0):(bindStartSlidingEvents(t,!1),i.css("cursor","default").attr("title",""),removeHover(null,i[0])))}},enableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t],n=options[t];i&&i.data("draggable")&&(n.resizable=!0,i.draggable("enable"),state[t].isClosed||i.css("cursor",n.resizerCursor).attr("title",n.tips.Resize))}},disableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].resizable=!1,i.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,i[0]))}},swapPanes=function(e,t){function i(e){var t=$Ps[e],i=$Cs[e];return t?{pane:e,P:t?t[0]:!1,C:i?i[0]:!1,state:$.extend(!0,{},state[e]),options:$.extend(!0,{},options[e])}:!1}function n(e,t){if(e){var i,n,a=e.P,o=e.C,r=e.pane,l=_c[t],c=$.extend(!0,{},state[t]),d=options[t],u={resizerCursor:d.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){u[t+"_open"]=d[t+"_open"],u[t+"_close"]=d[t+"_close"],u[t+"_size"]=d[t+"_size"]}),$Ps[t]=$(a).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(l.cssReq),$Cs[t]=o?$(o):!1,options[t]=$.extend(!0,{},e.options,u),state[t]=$.extend(!0,{},e.state),i=RegExp(d.paneClass+"-"+r,"g"),a.className=a.className.replace(i,d.paneClass+"-"+t),initHandles(t),l.dir!=_c[r].dir?(n=s[t]||0,setSizeLimits(t),n=max(n,state[t].minSize),manualSizePane(t,n,!0,!0)):$Rs[t].css(l.side,sC.inset[l.side]+(state[t].isVisible?getPaneSize(t):0)),e.state.isVisible&&!c.isVisible?setAsOpen(t,!0):(setAsClosed(t),bindStartSlidingEvents(t,!0)),e=null}}if(isInitialized()){var a=evtPane.call(this,e);if(state[a].edge=t,state[t].edge=a,!1===_runCallbacks("onswap_start",a)||!1===_runCallbacks("onswap_start",t))return state[a].edge=a,state[t].edge=t,void 0;var o=i(a),r=i(t),s={};s[a]=o?o.state.size:0,s[t]=r?r.state.size:0,$Ps[a]=!1,$Ps[t]=!1,state[a]={},state[t]={},$Ts[a]&&$Ts[a].remove(),$Ts[t]&&$Ts[t].remove(),$Rs[a]&&$Rs[a].remove(),$Rs[t]&&$Rs[t].remove(),$Rs[a]=$Rs[t]=$Ts[a]=$Ts[t]=!1,n(o,t),n(r,a),o=r=s=null,$Ps[a]&&$Ps[a].css(_c.visible),$Ps[t]&&$Ps[t].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",a),_runCallbacks("onswap_end",t)}},syncPinBtns=function(e,t){$.layout.plugins.buttons&&$.each(state[e].pins,function(i,n){$.layout.buttons.setPinState(Instance,$(n),e,t)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}})(jQuery)});