define(function(require,exports,module){function e(){this.szCurLanguage="",this.oLastLanguage=null}e.prototype={initLanguageSelect:function(e,t){var i=this,a="";WebSDK.WSDK_DeviceLan(t.m_szHostName,t.m_iHttpProtocal,t.m_iHttpPort,{noLogin:!0,async:!1,success:function(e,t){a="chinese"==$(t).find("Language").eq(0).find("type").eq(0).text()?"zh":"en"}}),$.ajax({url:"../i18n/Languages.json?version="+seajs.web_version,type:"GET",async:!1,dataType:"json",success:function(t){var n=t.Languages,o="",r=[];""!==a?$.each(n,function(){if("zh"===a){if("zh"!==this.value)return!0}else if("zh"===this.value)return!0;r.push(this)}):r=n,$.each(r,function(){o+="<div class='out' onmouseover='this.className=\"over\"' onmouseout='this.className=\"out\"' id='"+this.value+"' title='"+this.name+"'>"+this.name+"</div>",this.isDefault===!0&&(i.szCurLanguage=this.value)}),$(o).appendTo("#language_list"),void 0!==e&&null!==e&&""!==e&&$.each(r,function(){this.value===e&&(i.szCurLanguage=this.value)}),""===i.szCurLanguage&&(i.szCurLanguage=a),$.cookie("language",i.szCurLanguage),$("#current_language").html($("#"+i.szCurLanguage).html()),$("#current_language").attr("title",$("#"+i.szCurLanguage).html())},error:function(){}})},getLanguage:function(e){var t=null;return $.ajax({url:"../i18n/"+this.szCurLanguage+"/"+e+".json?version="+seajs.web_version,type:"GET",async:!1,cache:!0,dataType:"json",success:function(e){t=e},error:function(){}}),this.oLastLanguage=t},appendLanguage:function(e,t){var i=null;return i=$.extend(!0,{},e,t),this.oLastLanguage=i},getValue:function(e,t){if(null===this.oLastLanguage)return"";if(this.oLastLanguage[e]){if(t===void 0)return this.oLastLanguage[e];for(var i=this.oLastLanguage[e],a=0;t.length>a;a++)i=i.replace("%s",t[a]);return i}return""}},module.exports=new e});